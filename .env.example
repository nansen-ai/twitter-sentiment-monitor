# ============================================================================
# Nansen Twitter Sentiment Monitor - Environment Variables
# ============================================================================
#
# This file is a template for your .env file. Copy this to .env and fill in
# your actual credentials. The .env file is gitignored and will not be
# committed to version control.
#
# Setup Instructions:
# 1. Copy this file: cp .env.example .env
# 2. Fill in your actual API keys and tokens
# 3. Never commit .env to git (it's in .gitignore)
#
# ============================================================================

# ============================================================================
# X (Twitter) API Credentials
# ============================================================================
#
# Get your credentials from: https://developer.twitter.com/en/portal/dashboard
#
# Requirements:
# - Twitter Developer Account (Free or paid tier)
# - Essential access or higher for recent search
# - Academic/Enterprise access for full archive search
#
# Access Tiers:
# - Free: 500k tweets/month, recent search (last 7 days)
# - Basic: $100/month, 10k tweets/month
# - Enterprise: Custom pricing, full archive access
#
X_API_BEARER_TOKEN=your_twitter_bearer_token_here

# ============================================================================
# Claude (Anthropic) API Credentials
# ============================================================================
#
# Get your API key from: https://console.anthropic.com/
#
# Pricing (as of Jan 2025):
# - Claude Sonnet 4.5: $3/MTok input, $15/MTok output
# - Typical cost per run: $0.50 - $2.00 for 50-100 tweets
#
# Billing:
# - Pay as you go
# - Set usage limits in console to prevent overspending
# - Monitor your usage regularly
#
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# ============================================================================
# Slack Integration (Choose ONE method)
# ============================================================================
#
# Method 1: Webhook URL (Simplest - RECOMMENDED)
# ---------------------------------------------
# Create a webhook at: https://api.slack.com/messaging/webhooks
#
# Steps:
# 1. Go to https://api.slack.com/apps
# 2. Create new app → From scratch
# 3. Activate Incoming Webhooks
# 4. Add New Webhook to Workspace
# 5. Select channel and copy webhook URL
#
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Method 2: Bot Token (For threading and advanced features)
# ----------------------------------------------------------
# Create a bot at: https://api.slack.com/apps
#
# Steps:
# 1. Go to https://api.slack.com/apps
# 2. Create new app → From scratch
# 3. OAuth & Permissions → Add scopes: chat:write, chat:write.public
# 4. Install App to Workspace
# 5. Copy Bot User OAuth Token (starts with xoxb-)
# 6. Get Channel ID: Right-click channel → View channel details → Copy ID
#
# SLACK_BOT_TOKEN=xoxb-your-bot-token-here
# SLACK_CHANNEL_ID=C1234567890

# Optional: User to mention for urgent alerts
# Get user ID: Click on user profile → More → Copy member ID
# SLACK_MENTION_USER_ID=U1234567890

# ============================================================================
# Logging Configuration
# ============================================================================
#
# LOG_LEVEL options: DEBUG, INFO, WARNING, ERROR, CRITICAL
# - DEBUG: Verbose logging for development
# - INFO: Standard operational logging (recommended)
# - WARNING: Only warnings and errors
# - ERROR: Only error messages
#
LOG_LEVEL=INFO

# Optional: Specify custom log file path
# Default: logs/sentiment_monitor.log
# LOG_FILE=logs/custom_name.log

# ============================================================================
# Application Settings (Optional)
# ============================================================================
#
# These settings override config.yaml values
# Only set if you need to override defaults
#

# Time range for tweet search (in hours)
# Default: 24 hours
# SEARCH_HOURS=24

# Optional: Custom config file path
# Default: config/config.yaml
# CONFIG_PATH=config/config.yaml

# Optional: Dry run mode (test without posting to Slack)
# Set to 'true' to test the system without sending Slack notifications
# DRY_RUN=false

# Optional: Maximum cost per run (USD)
# Stop analysis if cost exceeds this amount
# MAX_COST_PER_RUN=5.0

# ============================================================================
# Advanced Settings (Optional)
# ============================================================================

# Enable debug mode for verbose logging and response saving
# DEBUG_MODE=false

# Save raw API responses for debugging
# SAVE_RAW_RESPONSES=false

# Custom rate limit settings (if different from defaults)
# TWITTER_RATE_LIMIT_PER_MINUTE=15
# CLAUDE_RATE_LIMIT_PER_MINUTE=50

# ============================================================================
# Security Best Practices
# ============================================================================
#
# 1. NEVER commit .env file to git (it's in .gitignore)
# 2. NEVER share your API keys publicly
# 3. Use environment-specific .env files (.env.development, .env.production)
# 4. Rotate API keys regularly
# 5. Set usage limits in API provider dashboards
# 6. Monitor your API usage and costs
# 7. Use read-only keys when possible
# 8. Restrict Slack app permissions to minimum required
#
# ============================================================================

# ============================================================================
# Troubleshooting
# ============================================================================
#
# Common Issues:
#
# 1. "Bearer token not provided" error
#    → Check X_API_BEARER_TOKEN is set correctly
#    → Ensure no extra spaces or quotes
#
# 2. "Invalid API key" error
#    → Verify ANTHROPIC_API_KEY is correct
#    → Check key hasn't been revoked
#
# 3. "Slack notification failed" error
#    → Verify SLACK_WEBHOOK_URL or SLACK_BOT_TOKEN
#    → Check webhook hasn't been deleted
#    → For bot token: verify channel ID and bot permissions
#
# 4. Rate limit errors
#    → Check your API tier limits
#    → Adjust max_total_tweets in config.yaml
#    → Add delays between requests
#
# 5. High costs
#    → Set MAX_COST_PER_RUN lower
#    → Reduce batch_size in config.yaml
#    → Use cache to avoid re-analysis
#
# For more help: See README.md or open an issue on GitHub
#
# ============================================================================
